<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Fiscal Futures - 8&nbsp; Federal COVID Money Received</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Everything.html" rel="next">
<link href="./FiscalGap.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Federal COVID Money Received</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Fiscal Futures</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Background Info</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./LocalTransfers.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Local Transfers</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Debt.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Debt Service Discussion</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Pensions.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Pensions</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Healthcare.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">State Employee Healthcare Discussion</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./FederalRevenue.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Federal Revenue</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Medicaid.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Medicaid</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./FiscalGap.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Yearly Fiscal Gap</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./FedMoneyReceived.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Federal COVID Money Received</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Everything.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">All Code together</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#covid-money-tracker-data" id="toc-covid-money-tracker-data" class="nav-link active" data-scroll-target="#covid-money-tracker-data"><span class="toc-section-number">8.1</span>  COVID Money Tracker Data</a></li>
  <li><a href="#expenditures-graphs" id="toc-expenditures-graphs" class="nav-link" data-scroll-target="#expenditures-graphs"><span class="toc-section-number">8.2</span>  Expenditures Graphs</a></li>
  <li><a href="#other-revenue-graphs" id="toc-other-revenue-graphs" class="nav-link" data-scroll-target="#other-revenue-graphs"><span class="toc-section-number">8.3</span>  Other Revenue Graphs</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Federal COVID Money Received</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="cell">

</div>
<p>Dropping revenue source “Federal Stimulus Package” from the IOC revenue data is one way to start estimating how revenue will look after the COVID relief ends. The graphs below show Illinois revenue with and without Federal Stimulus Package revenue. It is important to note that only the $8.127 ARPA State CURE and $3.519 CARES CRF/State CURE revenue were labeled as “Federal Stimulus Package” in the IOC revenue data. There was still an additional $12 billion dollars in other federal revenue that went to the state in FY22 compared to FY19. When trying to understand the states finances and the yearly fiscal gap, we also need to understand when and where the funds were considered revenue in the IOC data and consider the fiscal year that the funds were spent. Finally, allocations or expenditures may be grouped and labeled differently by the State compared to the Fiscal Futures project categorization. Some items that the federal relief are spent on are not included in Fiscal Gap calculations (e.g.&nbsp;the Unemployment Insurance Trust Fund repayments). The biggest challenge when determining the Fiscal Gap for Illinois centers around the timing of revenue and expenditures occurring in different fiscal years during the COVID response.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>rev_temp <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"rev_temp.csv"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>fedrev<span class="ot">&lt;-</span> rev_temp <span class="sc">%&gt;%</span> </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(rev_type <span class="sc">==</span> <span class="st">"58"</span> <span class="sc">|</span> rev_type <span class="sc">==</span> <span class="st">"59"</span> <span class="sc">|</span> rev_type <span class="sc">==</span> <span class="st">"57"</span>) </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>fedrev <span class="sc">%&gt;%</span> <span class="fu">filter</span>(fy<span class="sc">&gt;</span><span class="dv">2018</span>) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(fy) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">Revenue =</span> <span class="fu">sum</span>(receipts))</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>fedrev <span class="sc">%&gt;%</span> </span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source_name_AWM <span class="sc">==</span> <span class="st">"FEDERAL STIMULUS PACKAGE"</span> <span class="sc">&amp;</span> fy<span class="sc">&gt;</span><span class="dv">2018</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(fy) <span class="sc">%&gt;%</span> </span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">receipts =</span> <span class="fu">sum</span>(receipts, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)<span class="sc">/</span><span class="dv">1000000</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>fedrev <span class="sc">%&gt;%</span> </span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(fy<span class="sc">&gt;</span><span class="dv">2018</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(fy, fund_name) <span class="sc">%&gt;%</span> </span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">receipts =</span> <span class="fu">sum</span>(receipts, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)<span class="sc">/</span><span class="dv">1000000</span>) <span class="sc">%&gt;%</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>receipts) <span class="sc">%&gt;%</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> fy, <span class="at">values_from =</span> receipts)</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>fedrev <span class="sc">%&gt;%</span> </span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(fy) <span class="sc">%&gt;%</span> </span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">receipts =</span> <span class="fu">sum</span>(receipts, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)<span class="sc">/</span><span class="dv">1000000</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x=</span>fy, <span class="at">y=</span>receipts)) <span class="sc">+</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma)<span class="sc">+</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"All Federal Revenue"</span>, </span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Millions of Dollars"</span>, <span class="at">x =</span> <span class="st">""</span>) <span class="sc">+</span> </span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>, <span class="at">legend.title =</span> <span class="fu">element_blank</span>()  )<span class="sc">+</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">45000</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="FedMoneyReceived_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>fedrev <span class="sc">%&gt;%</span> </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source_name_AWM <span class="sc">!=</span> <span class="st">"FEDERAL STIMULUS PACKAGE"</span> ) <span class="sc">%&gt;%</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(fy) <span class="sc">%&gt;%</span> </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">receipts =</span> <span class="fu">sum</span>(receipts, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)<span class="sc">/</span><span class="dv">1000000</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x=</span>fy, <span class="at">y=</span>receipts)) <span class="sc">+</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> comma)<span class="sc">+</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"All Federal EXCEPT Federal Stimulus Package"</span>, </span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Millions of Dollars"</span>, <span class="at">x =</span> <span class="st">""</span>,</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Note: Dropping Federal Stimulus Package revenue only removes the $3.5 billion from FY20, </span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="st">       $0.3 billion from FY21, and $8.5 billion from FY22. Also drops Great Recession Aid in 2009.</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="st">       There is still over $12 billion more in Federal Revenue compared to FY19."</span>) <span class="sc">+</span> </span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>, <span class="at">legend.title =</span> <span class="fu">element_blank</span>()  ) <span class="sc">+</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">45000</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="FedMoneyReceived_files/figure-html/unnamed-chunk-2-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["fy"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Revenue"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"2019","2":"19473281956"},{"1":"2020","2":"25422362326"},{"1":"2021","2":"29303090912"},{"1":"2022","2":"40729291003"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["fy"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["receipts"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"2020","2":"3518.9454"},{"1":"2021","2":"228.4144"},{"1":"2022","2":"8855.7494"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["fund_name"],"name":[1],"type":["chr"],"align":["left"]},{"label":["2022"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["2021"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["2020"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["2019"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"STATE CURE","2":"8.484660e+03","3":"2.284144e+02","4":"NA","5":"NA"},{"1":"HEALTHCARE PROVIDER RELIEF","2":"8.449580e+03","3":"7.551466e+03","4":"6.006898e+03","5":"4.033401e+03"},{"1":"GENERAL REVENUE","2":"4.444664e+03","3":"4.323305e+03","4":"3.529274e+03","5":"3.530575e+03"},{"1":"DISASTER RESPONSE AND RECOVERY","2":"2.671906e+02","3":"2.756378e+02","4":"3.519919e+03","5":"NA"},{"1":"SBE FEDERAL DEPT OF EDUCATION","2":"3.363613e+03","3":"2.259235e+03","4":"1.484362e+03","5":"1.455587e+03"},{"1":"HOSPITAL PROVIDER","2":"2.812069e+03","3":"2.351735e+03","4":"2.040466e+03","5":"1.957226e+03"},{"1":"COUNTY PROVIDER TRUST","2":"2.132628e+03","3":"1.985901e+03","4":"1.363670e+03","5":"1.274989e+03"},{"1":"ROAD","2":"1.690971e+03","3":"1.811595e+03","4":"1.648519e+03","5":"1.262488e+03"},{"1":"EMPLOYMENT & TRAINING","2":"1.280686e+03","3":"4.119545e+02","4":"3.561481e+02","5":"2.631350e+02"},{"1":"SBE FEDERAL DEPT OF AGRI","2":"1.110627e+03","3":"8.074842e+02","4":"7.508596e+02","5":"7.818870e+02"},{"1":"DRUG REBATE","2":"8.901367e+02","3":"9.137380e+02","4":"5.191765e+02","5":"6.032450e+02"},{"1":"DCEO PROJECTS","2":"1.481707e+01","3":"5.662758e+02","4":"NA","5":"NA"},{"1":"PUBLIC HEALTH SERVICES","2":"5.379595e+02","3":"3.305861e+02","4":"1.573925e+02","5":"1.417503e+02"},{"1":"FEDERAL/STATE/LOCAL AIRPORT","2":"9.543278e+01","3":"5.095228e+02","4":"9.547368e+01","5":"3.924228e+01"},{"1":"DHS SPECIAL PURPOSE TRUST","2":"1.309660e+02","3":"4.993561e+02","4":"3.376481e+02","5":"3.214861e+02"},{"1":"FEDERAL AID DISASTER","2":"4.562795e+02","3":"4.755982e+02","4":"1.630045e+01","5":"4.263000e+00"},{"1":"DCFS CHILDREN'S SERVICES","2":"3.764317e+02","3":"3.924173e+02","4":"3.679366e+02","5":"3.528222e+02"},{"1":"LOCAL CURE","2":"3.710897e+02","3":"NA","4":"NA","5":"NA"},{"1":"LOW INC HOME ENERGY BLOCK GRNT","2":"3.427243e+02","3":"2.551679e+02","4":"1.599768e+02","5":"1.860652e+02"},{"1":"FEDERAL TITLE III SS & EMPLOY","2":"3.154626e+02","3":"2.906549e+02","4":"1.860070e+02","5":"1.800909e+02"},{"1":"HOME SERVICES MEDICAID TRUST","2":"2.340000e+02","3":"2.340000e+02","4":"2.340000e+02","5":"2.329275e+02"},{"1":"LONG TERM CARE PROVIDER","2":"1.738766e+02","3":"2.139360e+02","4":"1.728405e+02","5":"1.724117e+02"},{"1":"PUBLIC AID RECOVERIES TRUST","2":"6.648464e+01","3":"8.534392e+01","4":"8.041959e+01","5":"1.876124e+02"},{"1":"USDA WOMEN, INFANTS & CHILDREN","2":"1.530155e+02","3":"1.472210e+02","4":"1.529769e+02","5":"1.698133e+02"},{"1":"SPECIAL ED MEDICAID MATCHING","2":"1.463712e+02","3":"1.524548e+02","4":"1.570119e+02","5":"1.628913e+02"},{"1":"FEDERAL WORKFORCE TRAINING","2":"1.540169e+02","3":"1.489247e+02","4":"1.508012e+02","5":"1.574161e+02"},{"1":"UNIVERSITY OF IL HOSPITAL SERV","2":"1.503124e+02","3":"1.277193e+02","4":"1.177167e+02","5":"1.017576e+02"},{"1":"VOCATIONAL REHABILITATION","2":"1.463957e+02","3":"1.286630e+02","4":"1.345684e+02","5":"1.105706e+02"},{"1":"TOBACCO SETTLEMENT RECOVERY","2":"1.212745e+02","3":"1.446353e+02","4":"9.644635e+01","5":"4.367045e+01"},{"1":"WATER REVOLVING","2":"1.283167e+02","3":"1.003093e+02","4":"1.134390e+02","5":"1.444371e+02"},{"1":"CRIMINAL JUSTICE TRUST","2":"9.327505e+01","3":"8.436976e+01","4":"1.110677e+02","5":"8.440864e+01"},{"1":"SOCIAL SERVS BLOCK GRANT","2":"5.837217e+01","3":"5.015500e+01","4":"5.123370e+01","5":"1.040822e+02"},{"1":"INCOME TAX REFUND","2":"9.027197e+01","3":"1.008806e+02","4":"8.354985e+01","5":"8.949945e+01"},{"1":"CHILD SUPPORT ADMINISTRATIVE","2":"9.250858e+01","3":"7.457589e+01","4":"9.369603e+01","5":"9.910374e+01"},{"1":"HOMELAND SEC EMERG PREPAR TRST","2":"8.504295e+01","3":"9.583205e+01","4":"7.267387e+01","5":"7.969209e+01"},{"1":"SERVICES FOR OLDER AMERICANS","2":"7.818942e+01","3":"9.104796e+01","4":"5.704391e+01","5":"6.535802e+01"},{"1":"PREVENT & TREAT ALCOHOL & SUB","2":"8.179126e+01","3":"6.016400e+01","4":"6.589295e+01","5":"4.618100e+01"},{"1":"COMMUNITY DD SRVCS MEDICAID TR","2":"6.000000e+01","3":"6.000000e+01","4":"6.000000e+01","5":"7.758210e+01"},{"1":"DEPT OF CORRECTIONS REIMBURSEM","2":"7.350688e+01","3":"2.783978e+00","4":"9.623251e+00","5":"2.232033e+01"},{"1":"OLD AGE SURVIVORS INSURANCE","2":"6.444638e+01","3":"6.734965e+01","4":"6.520748e+01","5":"7.169960e+01"},{"1":"EARLY INTERVENTION SERVICE REV","2":"6.168115e+01","3":"4.784946e+01","4":"6.506660e+01","5":"6.454425e+01"},{"1":"COMMUNITY SERVICES BLOCK GRANT","2":"5.908063e+01","3":"4.752850e+01","4":"3.532767e+01","5":"3.147936e+01"},{"1":"FEDERAL MASS TRANSIT TRUST","2":"4.665432e+01","3":"5.737226e+01","4":"2.711503e+01","5":"4.040417e+01"},{"1":"CDB CONTRIBUTORY TRUST","2":"7.427521e+00","3":"5.389498e+01","4":"6.656659e+00","5":"1.041053e+01"},{"1":"ALCOHOLISM & SUBSTANCE ABUSE","2":"5.277367e+01","3":"3.828832e+01","4":"3.156807e+01","5":"2.222302e+01"},{"1":"COM DEV/SMALL CITY BLK GRANT","2":"1.898116e+01","3":"3.121937e+01","4":"3.346773e+01","5":"4.978514e+01"},{"1":"COMMUNITY MENTAL HEALTH MEDICA","2":"3.341093e+01","3":"3.575192e+01","4":"4.900368e+01","5":"4.382049e+01"},{"1":"GENERAL OBLIGATION BR&I","2":"4.853552e+01","3":"4.361762e+01","4":"3.624299e+01","5":"4.749298e+01"},{"1":"FEDERAL STUDENT LOAN","2":"4.197184e+01","3":"2.281247e+01","4":"3.128818e+01","5":"4.792663e+01"},{"1":"DHS FEDERAL PROJECTS","2":"4.342459e+01","3":"2.624298e+01","4":"1.576523e+01","5":"1.692135e+01"},{"1":"U S ENVIRONMENTAL PROTECTION","2":"3.726231e+01","3":"3.743410e+01","4":"3.069133e+01","5":"3.077558e+01"},{"1":"WILDLIFE & FISH","2":"3.522196e+01","3":"2.393441e+01","4":"1.457165e+01","5":"1.709909e+01"},{"1":"MEDICAL SPECIAL PURPOSE TRUST","2":"3.096792e+00","3":"9.030507e+00","4":"5.381781e+00","5":"3.507319e+01"},{"1":"COMMUNITY MH SERVS BLOCK GRNT","2":"3.463522e+01","3":"2.383254e+01","4":"2.283086e+01","5":"2.309095e+01"},{"1":"HELP ILLINOIS VOTE","2":"2.143228e+00","3":"5.897067e+00","4":"2.870674e+01","5":"6.616150e-01"},{"1":"FEDERAL SUPPORT AGREEMENT REV","2":"2.492307e+01","3":"2.557881e+01","4":"2.530320e+01","5":"2.714599e+01"},{"1":"CARE PROV FOR PERSONS WITH DD","2":"1.423075e+01","3":"2.182239e+01","4":"2.013559e+01","5":"2.384702e+01"},{"1":"ICCB ADULT EDUCATION","2":"2.206933e+01","3":"2.198493e+01","4":"1.857881e+01","5":"2.006104e+01"},{"1":"MATERNAL & CHILD HLTH SERV BLK","2":"2.184304e+01","3":"1.914365e+01","4":"1.609753e+01","5":"1.519503e+01"},{"1":"LONG TERM CARE MONITOR/RECEIVE","2":"1.835913e+01","3":"7.500000e+00","4":"2.079215e+01","5":"1.050000e+01"},{"1":"FEDERAL HIGH SPEED RAIL TRUST","2":"5.043673e-01","3":"1.073629e+00","4":"1.241269e+01","5":"2.054136e+01"},{"1":"BHE FEDERAL GRANTS","2":"1.509681e+01","3":"1.946308e+01","4":"NA","5":"7.426720e-01"},{"1":"ELECTRONIC HEALTH RECORD","2":"3.895601e+00","3":"7.820002e+00","4":"7.746524e+00","5":"1.854912e+01"},{"1":"MEDICAL INTERAGENCY PROGRAM","2":"6.131932e+00","3":"1.215903e+01","4":"1.308295e+01","5":"1.762755e+01"},{"1":"HEALTH INSURANCE RESERVE","2":"4.346896e+00","3":"1.753361e+01","4":"8.896576e+00","5":"5.787524e+00"},{"1":"SBE FEDERAL AGENCY SERVICES","2":"1.734833e+01","3":"1.131337e+01","4":"6.678488e+00","5":"3.572641e+00"},{"1":"DHS COMMUNITY SERVICES","2":"1.062520e-01","3":"6.236708e+00","4":"4.991247e+00","5":"1.688792e+01"},{"1":"QUINCY VETERAN HOME","2":"1.492537e+01","3":"1.452755e+01","4":"1.630200e+01","5":"1.537560e+01"},{"1":"ENERGY ADMINISTRATION","2":"1.552581e+01","3":"1.176874e+01","4":"1.151240e+01","5":"1.199705e+01"},{"1":"IL COMM COLL BRD CONTRCT & GRT","2":"1.501168e+01","3":"1.106145e+01","4":"3.152500e-02","5":"NA"},{"1":"MANTENO VETERANS HOME","2":"9.497217e+00","3":"1.383643e+01","4":"1.297500e+01","5":"1.489422e+01"},{"1":"ABANDONED MINED LANDS RECLAM","2":"1.330300e+01","3":"6.936658e+00","4":"7.935826e+00","5":"1.279382e+01"},{"1":"HEALTH&HUMAN SERV MEDICAID TR","2":"3.476146e+00","3":"1.011597e+01","4":"1.220393e+01","5":"9.076409e+00"},{"1":"DNR FEDERAL PROJECTS","2":"1.202528e+01","3":"8.367400e+00","4":"5.080822e+00","5":"7.037024e+00"},{"1":"IL STATE POLICE FEDERAL  PROJS","2":"1.167433e+01","3":"1.177735e+01","4":"1.132542e+01","5":"9.144623e+00"},{"1":"IL NAT GUARD ST ACTIVE DUTY","2":"5.148188e+00","3":"1.956636e+00","4":"1.009991e+01","5":"2.028697e+00"},{"1":"SBE SPECIAL PURPOSE TRUST","2":"9.857211e+00","3":"3.209277e+00","4":"7.211767e+00","5":"4.119301e+00"},{"1":"LASALLE VETERANS HOME","2":"5.121559e+00","3":"7.548841e+00","4":"8.628974e+00","5":"8.975916e+00"},{"1":"PUBLIC HEALTH SPEC STATE PROJ","2":"8.945259e+00","3":"8.141258e+00","4":"6.400647e+00","5":"7.313547e+00"},{"1":"TRAUMA CENTER","2":"9.261460e-01","3":"3.434085e+00","4":"4.251276e+00","5":"8.536415e+00"},{"1":"WHOLESOME MEAT","2":"8.133856e+00","3":"6.017235e+00","4":"7.578749e+00","5":"7.622375e+00"},{"1":"COMMERCE & COMM AFFAIRS ASST","2":"7.628181e+00","3":"7.469707e+00","4":"5.194053e+00","5":"6.249061e+00"},{"1":"LIBRARY SERVICES","2":"7.568489e+00","3":"5.881004e+00","4":"4.824435e+00","5":"5.276363e+00"},{"1":"DHS TECHNOLOGY INITIATIVE","2":"7.416110e+00","3":"7.310237e+00","4":"2.010528e+00","5":"6.783289e+00"},{"1":"IL NATNL GUARD ARMORY CONSTR","2":"6.872254e+00","3":"5.157014e+00","4":"5.642268e+00","5":"NA"},{"1":"MENTAL HEALTH","2":"6.753735e+00","3":"6.293083e+00","4":"6.828383e+00","5":"6.432487e+00"},{"1":"AML RECLAMATION SET ASIDE","2":"2.900000e+00","3":"3.500000e+00","4":"5.600000e+00","5":"5.700000e+00"},{"1":"NUCLEAR CIVIL PROTECTION PLAN","2":"1.615282e+00","3":"1.321251e+00","4":"4.668317e+00","5":"9.285069e-01"},{"1":"FEDERAL SURFACE MINING CONTROL","2":"3.283413e+00","3":"3.612215e+00","4":"2.911785e+00","5":"3.822728e+00"},{"1":"FEDERAL ENERGY","2":"2.108786e+00","3":"2.782162e+00","4":"3.716951e+00","5":"8.733192e-01"},{"1":"ANNA VETERANS HOME","2":"1.786233e+00","3":"2.571793e+00","4":"3.571717e+00","5":"2.540727e+00"},{"1":"COUNCIL ON DEV DISABILITIES","2":"2.796549e+00","3":"3.060453e+00","4":"3.545197e+00","5":"3.118890e+00"},{"1":"IL HISTORIC SITES","2":"3.450024e+00","3":"5.713417e-01","4":"6.845503e-01","5":"NA"},{"1":"COURT OF CLAIMS FEDERAL GRANT","2":"2.988258e+00","3":"2.011730e-01","4":"3.423580e+00","5":"1.113132e+00"},{"1":"PREVENTIVE HEALTH&HLTH SERV BL","2":"1.981598e+00","3":"3.171144e+00","4":"2.442335e+00","5":"2.596579e+00"},{"1":"GAINING EARLY AWARENESS & READ","2":"NA","3":"3.087705e+00","4":"NA","5":"NA"},{"1":"STATE BOATING ACT","2":"2.974517e+00","3":"2.031066e+00","4":"1.404840e+00","5":"1.923712e+00"},{"1":"DCFS FEDERAL PROJECTS","2":"2.804848e+00","3":"2.817028e+00","4":"2.554932e+00","5":"2.085719e+00"},{"1":"FEDERAL STUDENT INCENTIVE TR","2":"2.675467e+00","3":"2.302349e+00","4":"2.382383e+00","5":"2.576125e+00"},{"1":"TCHR HEALTH INSURANCE SECURITY","2":"4.358973e-01","3":"2.559620e+00","4":"1.010264e+00","5":"1.198533e+00"},{"1":"SPECIAL PROJECTS DIVISION","2":"2.194674e+00","3":"2.316556e+00","4":"2.286381e+00","5":"2.265016e+00"},{"1":"LAND & WATER RECREATION","2":"2.033250e+00","3":"1.852192e+00","4":"2.281000e+00","5":"6.500000e-01"},{"1":"SENIOR HEALTH INSURANCE PROG","2":"2.097265e+00","3":"1.408762e+00","4":"1.553698e+00","5":"1.034188e+00"},{"1":"PARK & CONSERVATION","2":"2.075703e+00","3":"1.214117e+00","4":"1.945746e+00","5":"5.839354e-01"},{"1":"FEDERAL INDUSTRIAL SERVICES","2":"1.947701e+00","3":"2.068811e+00","4":"1.404604e+00","5":"1.067725e+00"},{"1":"PUBLIC UTILITY","2":"1.638458e+00","3":"1.987576e+00","4":"1.475842e+00","5":"1.918918e+00"},{"1":"IL FORESTRY DEVELOPMENT","2":"8.636674e-01","3":"1.934811e+00","4":"2.371398e-01","5":"1.172955e+00"},{"1":"IL ARTS COUNCIL FEDERAL GRANT","2":"1.872600e+00","3":"9.109000e-01","4":"1.388800e+00","5":"8.555000e-01"},{"1":"AGRICULTURE FEDERAL PROJECTS","2":"1.587334e+00","3":"9.877793e-01","4":"1.491239e+00","5":"1.465294e+00"},{"1":"LEAD POISONING,SCREENING","2":"1.059640e+00","3":"1.170151e+00","4":"1.058351e+00","5":"1.567769e+00"},{"1":"GI EDUCATION","2":"1.402910e+00","3":"1.163394e+00","4":"1.318312e+00","5":"9.819456e-01"},{"1":"JUVENILE JUSTICE TRUST","2":"1.367464e+00","3":"1.134833e+00","4":"1.202858e+00","5":"1.127240e+00"},{"1":"TECHNOLOGY MGMNT REVOLVING","2":"1.307556e+00","3":"1.363221e+00","4":"3.695252e-01","5":"3.897368e-01"},{"1":"DEPT OF LABOR FEDERAL PROJECTS","2":"1.121629e+00","3":"1.303031e+00","4":"1.013225e+00","5":"7.840037e-01"},{"1":"DHS RECOVERIES TRUST","2":"5.031369e-01","3":"8.103377e-01","4":"9.627039e-01","5":"1.158618e+00"},{"1":"FIRE PREVENTION DIVISION","2":"4.805497e-01","3":"8.710490e-01","4":"4.340412e-01","5":"1.080887e+00"},{"1":"SUPREME COURT FEDERAL PROJECTS","2":"1.064532e+00","3":"8.191903e-01","4":"7.835226e-01","5":"7.508674e-01"},{"1":"PUBLIC HEALTH FEDERAL PROJECTS","2":"3.544290e-01","3":"8.814200e-01","4":"9.085912e-01","5":"1.416944e-01"},{"1":"FEDERAL TITLE IV FIRE PROT","2":"5.532610e-01","3":"8.942047e-01","4":"4.241300e-02","5":"NA"},{"1":"ATTORNEY GENERAL FEDERAL GRANT","2":"8.533546e-01","3":"6.760131e-01","4":"6.954154e-01","5":"8.427658e-01"},{"1":"FEDERAL CIVIL PREPARED ADMIN","2":"6.537159e-01","3":"4.620734e-01","4":"7.878835e-01","5":"6.287031e-01"},{"1":"FEDERAL ASSET FORFEITURE","2":"3.496789e-01","3":"5.290560e-01","4":"5.582714e-01","5":"7.626138e-01"},{"1":"BROWNFIELDS REDEVELOPMENT","2":"2.044410e-01","3":"1.332400e-02","4":"2.507320e-01","5":"6.976760e-01"},{"1":"AGRICULTURE PESTICIDE CONTROL","2":"6.484658e-01","3":"5.825550e-01","4":"1.546611e-01","5":"6.823739e-01"},{"1":"NATIONAL FLOOD INSURANCE PROG","2":"3.783690e-01","3":"3.994860e-01","4":"6.480059e-01","5":"3.421198e-01"},{"1":"INDOOR RADON MITIGATION","2":"5.446384e-01","3":"3.635895e-01","4":"6.017543e-01","5":"2.977932e-01"},{"1":"DEPT OF INSURANCE FED TRUST","2":"1.531338e-01","3":"NA","4":"4.304181e-01","5":"5.896507e-01"},{"1":"MONEY FOLLOWS PRSN BDGT TRNSFR","2":"NA","3":"NA","4":"5.605390e-01","5":"NA"},{"1":"MINES & MINERALS UIC","2":"5.539700e-01","3":"2.170000e-01","4":"2.160000e-01","5":"2.190000e-01"},{"1":"FACILITIES MANAGEMENT REVOLV","2":"5.467009e-01","3":"NA","4":"NA","5":"NA"},{"1":"DRAM SHOP","2":"NA","3":"NA","4":"NA","5":"5.417901e-01"},{"1":"SECRETARY OF STATE ID SECURITY","2":"1.967000e-02","3":"3.103058e-01","4":"3.874299e-01","5":"2.336325e-01"},{"1":"ICCB FEDERAL TRUST","2":"2.013583e-01","3":"3.747502e-01","4":"7.072575e-02","5":"1.173165e-01"},{"1":"UNDERGROUND RESOURCE CONSERV","2":"3.643990e-01","3":"2.109750e-01","4":"2.138090e-01","5":"NA"},{"1":"COMMUNITY COLLEGE HEALTH INSUR","2":"6.006596e-02","3":"3.225752e-01","4":"1.363346e-01","5":"1.694746e-01"},{"1":"HEALTHY SMILES","2":"2.904610e-01","3":"3.065070e-01","4":"3.158320e-01","5":"2.756740e-01"},{"1":"LAW ENF OFF TRNG BD FED PROJ","2":"2.022250e-01","3":"2.998571e-01","4":"2.035517e-01","5":"2.591584e-01"},{"1":"EPA SPEC STATE PROJ TRUST","2":"2.951640e-01","3":"2.339070e-01","4":"2.200930e-01","5":"2.103520e-01"},{"1":"IMSA SPECIAL PURPOSES TRUST","2":"1.870160e-01","3":"2.881025e-01","4":"2.333482e-01","5":"1.584728e-01"},{"1":"FOREST RESERVE","2":"2.168860e-01","3":"2.101535e-01","4":"2.230542e-01","5":"2.618524e-01"},{"1":"TENN VALLEY AUTH LOCAL TRUST","2":"2.080241e-01","3":"2.196107e-01","4":"2.415461e-01","5":"2.235726e-01"},{"1":"DEP OF LABOR FED INDIRECT COST","2":"5.442389e-02","3":"2.083825e-01","4":"NA","5":"NA"},{"1":"SECRETARY OF STATE FED PROJ","2":"5.717499e-02","3":"5.172001e-02","4":"1.159984e-01","5":"6.971307e-02"},{"1":"NATURAL AREAS ACQUISITION","2":"1.032148e-01","3":"5.645998e-02","4":"NA","5":"5.875270e-02"},{"1":"PARTNERS FOR CONSERVATION","2":"3.171201e-02","3":"6.380132e-02","4":"NA","5":"9.867258e-02"},{"1":"COURT OF CLAIMS ADMIN & GRANT","2":"8.119463e-02","3":"6.353553e-02","4":"8.731024e-02","5":"9.755130e-02"},{"1":"DEAF AND HARD OF HEARING SPECI","2":"9.450000e-02","3":"6.600000e-02","4":"5.284100e-02","5":"6.325000e-02"},{"1":"AGRICULTURAL MASTER","2":"NA","3":"NA","4":"NA","5":"9.255791e-02"},{"1":"IL WILDLIFE PRESERVATION","2":"NA","3":"NA","4":"NA","5":"7.623800e-02"},{"1":"DHS STATE PROJECTS","2":"NA","3":"7.434609e-02","4":"NA","5":"NA"},{"1":"LOC GOVT HEALTH INSURANCE RES","2":"NA","3":"6.264345e-02","4":"4.447181e-02","5":"4.419056e-02"},{"1":"BHE STATE PROJECTS","2":"NA","3":"NA","4":"5.000000e-02","5":"2.700000e-02"},{"1":"PRES LIBR & MUSEUM OPERATING","2":"4.580000e-02","3":"NA","4":"NA","5":"NA"},{"1":"STATE PARKS","2":"3.737143e-02","3":"4.363764e-02","4":"NA","5":"NA"},{"1":"RADIATION PROTECTION","2":"2.039650e-02","3":"2.616225e-02","4":"4.338500e-02","5":"2.662550e-02"},{"1":"CONSRV POLICE OPS ASSIST","2":"NA","3":"3.836300e-02","4":"NA","5":"NA"},{"1":"SECRETARY OF STATE SPEC SERV","2":"NA","3":"NA","4":"NA","5":"3.366000e-02"},{"1":"NATURAL RESOURCES RESTORATION","2":"NA","3":"NA","4":"3.332823e-02","5":"NA"},{"1":"ST APPELLATE DEFENDER FEDERAL","2":"NA","3":"NA","4":"NA","5":"3.140063e-02"},{"1":"FEDERAL AG MARKETING SERVICES","2":"3.000000e-02","3":"3.000000e-02","4":"NA","5":"NA"},{"1":"FIRE PREVENTION","2":"NA","3":"2.691913e-02","4":"NA","5":"NA"},{"1":"APPRAISAL ADMINISTRATION","2":"2.464940e-02","3":"NA","4":"NA","5":"NA"},{"1":"STATE SURPLUS PROPERTY REV","2":"NA","3":"NA","4":"1.394713e-02","5":"1.726800e-02"},{"1":"GROUP INSURANCE PREMIUM","2":"1.071330e-02","3":"6.982860e-03","4":"1.472486e-02","5":"1.084185e-02"},{"1":"MILITARY AFFAIRS TRUST","2":"1.208043e-02","3":"1.158922e-02","4":"8.099000e-05","5":"1.288963e-02"},{"1":"JUVENILE REHAB SERV MEDICAID","2":"5.067000e-03","3":"2.586000e-03","4":"5.778000e-03","5":"1.283500e-02"},{"1":"CAREER AND TECHNICAL EDUCATION","2":"NA","3":"NA","4":"NA","5":"4.500000e-03"},{"1":"SPECIAL FEDERAL GRANT PROJECT","2":"NA","3":"NA","4":"NA","5":"3.000000e-03"},{"1":"FEED CONTROL","2":"NA","3":"NA","4":"NA","5":"1.979440e-03"},{"1":"IL MATH & SCIENCE ACAD INCOME","2":"NA","3":"5.845000e-05","4":"NA","5":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<section id="covid-money-tracker-data" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="covid-money-tracker-data"><span class="header-section-number">8.1</span> COVID Money Tracker Data</h2>
<p>Data was downloaded from COVIDMoneyTracker.org for the State of Illinois. Values reflect the amount committed and not all funds have been disbursed yet. It does not include aid for households or loans to businesses. Data file is named federalcoviddollars.xlsx in Github page used to create this website.</p>
<p>A little information on Sankey graphs is below:</p>
<ul>
<li>The axis is how the observations are grouped at each step. There are multiple axes.</li>
<li>Strata are the options that exist for each level. (e.g.&nbsp;Year received can be 2021 or 2022)</li>
<li>Alluvium correspond to the fixed value of each axis variable. Proportional to how the sum of however you are grouping your data.</li>
<li>Flows are the segments of the alluvia between adjacent axes.</li>
</ul>
<p>Read the charts from the top to the bottom. Most of the graphs below begin with either the year the money was received or the name of the Law that provided the funds and then shows it flowing down to either who received the money or how it was spent.</p>
<p>The graphs below focus on when the money from each Federal Act arrived and where it was received (local governments, the State government, or directly to a state department) and the spending category that it would be considered using the Fiscal Futures categorization.</p>
<p>The second graph is the same as the first except that it drops revenue received by local governments. The State government received $11.7 billion, state departments received $31.4 billion, and local governments received $8.9 billion from FY 2020 through FY 2022.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>sankeydata <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"federalcoviddollars.xlsx"</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>sankey <span class="ot">&lt;-</span> sankeydata <span class="sc">%&gt;%</span> </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">#select(Federal, StateFunds, StFund, Expenditures, stfundname, value, Notes) %&gt;%</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">#  filter(StFund == "Total") %&gt;%</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">StateFunds =</span> <span class="fu">factor</span>(FY, <span class="at">levels =</span> <span class="fu">c</span>( <span class="st">"FY20"</span>, <span class="st">"FY21"</span>, <span class="st">"FY22"</span>)),</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">Legislation2 =</span> <span class="fu">factor</span>(Legislation2, <span class="at">levels =</span> <span class="fu">c</span>( <span class="st">"Other"</span>, <span class="st">"CARES"</span>, <span class="st">"CRRSA"</span>, <span class="st">"ARPA"</span>)),</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>                              <span class="at">Legislation1 =</span> <span class="fu">factor</span>(Legislation, <span class="at">levels =</span> <span class="fu">c</span>( <span class="st">"Families First"</span>, <span class="st">"CARES"</span>, <span class="st">"PPP &amp; Health Care"</span>, <span class="st">"Response &amp; Relief"</span>, <span class="st">"ARPA"</span>))</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>         </span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>                 <span class="co">#  Expenditures = factor(Expenditures, levels = c("Community Development", "Public Health", "Medicaid", "K-12", "Federal Other", "Transit")),</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>      <span class="co">#   Notes = factor(Notes, levels = c(  "CARES", "Other *","CRRSA", "ARPA")))</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sankey, </span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> <span class="st">`</span><span class="at">Dollars Received</span><span class="st">`</span>, <span class="at">axis3 =</span> FY, <span class="at">axis2 =</span> <span class="st">`</span><span class="at">Broad Category</span><span class="st">`</span>, <span class="at">axis1=</span>FF_Cat2, <span class="at">label =</span> <span class="st">"stratum"</span>)) <span class="sc">+</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_flow</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Legislation), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a> <span class="co"># guides(fill = FALSE) +   </span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_stratum</span>(<span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a><span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"YlOrRd"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>     <span class="fu">geom_text</span>(<span class="at">stat =</span> <span class="st">"stratum"</span>, <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">after_stat</span>(stratum)), <span class="at">size =</span> <span class="dv">2</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)<span class="sc">+</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"$52 Million Federal COVID Relief to Illinois over 3 years"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="FedMoneyReceived_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">#switches fiscal Year and Broad Category. Not as helpful. </span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co"># ggplot(sankey, </span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co">#        aes(y = `Dollars Received`, axis2 = FY, axis3 = `Broad Category`, axis1=FF_Cat2, label = "stratum")) +</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   geom_flow(aes(fill = Legislation), color = "black", reverse=FALSE) +</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co">#  # guides(fill = FALSE) +   </span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co">#   geom_stratum(reverse=FALSE)+</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="co"># coord_flip()+</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="co">#    scale_fill_brewer(palette = "YlOrRd", direction = -1)+</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="co">#   theme_void() +</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="co">#      geom_text(stat = "stratum", aes(label = after_stat(stratum)), size = 2, reverse=FALSE)+</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co">#     theme(legend.position = "bottom")+</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="co">#   ggtitle("$52 Million Federal COVID Relief to Illinois over 3 years")</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>sankey <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(FY) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">sum=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">Dollars Received</span><span class="st">`</span>))</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>sankey <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Legislation) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">sum=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">Dollars Received</span><span class="st">`</span>))</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>sankey <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Broad Category</span><span class="st">`</span>) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">sum=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">Dollars Received</span><span class="st">`</span>))</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>sankey <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Legislation, FF_Cat2) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">sum=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">Dollars Received</span><span class="st">`</span>))</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>sankey <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(FF_Cat2) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">sum=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">Dollars Received</span><span class="st">`</span>))</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>sankey <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Legislation, <span class="st">`</span><span class="at">Broad Category</span><span class="st">`</span>,FF_Cat2) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">sum=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">Dollars Received</span><span class="st">`</span>))</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>sankey <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(FY, FF_Cat2) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">sum=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">Dollars Received</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> <span class="fu">pivot_wider</span>(<span class="at">names_from=</span><span class="st">"FY"</span>, <span class="at">values_from =</span> sum)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["FY"],"name":[1],"type":["chr"],"align":["left"]},{"label":["sum"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"FY20","2":"15705249790"},{"1":"FY21","2":"7247259447"},{"1":"FY22","2":"29056349119"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Legislation"],"name":[1],"type":["chr"],"align":["left"]},{"label":["sum"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"ARPA","2":"25630230465"},{"1":"CARES","2":"15705249790"},{"1":"Families First","2":"4469242245"},{"1":"PPP & Health Care","2":"2778017202"},{"1":"Response & Relief","2":"3426118654"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Broad Category"],"name":[1],"type":["chr"],"align":["left"]},{"label":["sum"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"Local Govs","2":"8885547311"},{"1":"State Departments","2":"31406366045"},{"1":"State Government","2":"11716945000"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Legislation"],"name":[1],"type":["chr"],"align":["left"]},{"label":["FF_Cat2"],"name":[2],"type":["chr"],"align":["left"]},{"label":["sum"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"ARPA","2":"Excluded","3":"5930002892"},{"1":"ARPA","2":"Federal Transportation","3":"1615071673"},{"1":"ARPA","2":"Other Federal Revenue","3":"18085155900"},{"1":"CARES","2":"Excluded","3":"2955544419"},{"1":"CARES","2":"Federal Medicaid","3":"2636263219"},{"1":"CARES","2":"Other Federal Revenue","3":"10113442152"},{"1":"Families First","2":"Federal Medicaid","3":"4469242245"},{"1":"PPP & Health Care","2":"Other Federal Revenue","3":"2778017202"},{"1":"Response & Relief","2":"Federal Transportation","3":"355482847"},{"1":"Response & Relief","2":"Other Federal Revenue","3":"3070635807"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["FF_Cat2"],"name":[1],"type":["chr"],"align":["left"]},{"label":["sum"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"Excluded","2":"8885547311"},{"1":"Federal Medicaid","2":"7105505464"},{"1":"Federal Transportation","2":"1970554520"},{"1":"Other Federal Revenue","2":"34047251061"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Legislation"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Broad Category"],"name":[2],"type":["chr"],"align":["left"]},{"label":["FF_Cat2"],"name":[3],"type":["chr"],"align":["left"]},{"label":["sum"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"ARPA","2":"Local Govs","3":"Excluded","4":"5930002892"},{"1":"ARPA","2":"State Departments","3":"Federal Transportation","4":"1615071673"},{"1":"ARPA","2":"State Departments","3":"Other Federal Revenue","4":"9958155900"},{"1":"ARPA","2":"State Government","3":"Other Federal Revenue","4":"8127000000"},{"1":"CARES","2":"Local Govs","3":"Excluded","4":"2955544419"},{"1":"CARES","2":"State Departments","3":"Federal Medicaid","4":"2636263219"},{"1":"CARES","2":"State Departments","3":"Other Federal Revenue","4":"6523497152"},{"1":"CARES","2":"State Government","3":"Other Federal Revenue","4":"3589945000"},{"1":"Families First","2":"State Departments","3":"Federal Medicaid","4":"4469242245"},{"1":"PPP & Health Care","2":"State Departments","3":"Other Federal Revenue","4":"2778017202"},{"1":"Response & Relief","2":"State Departments","3":"Federal Transportation","4":"355482847"},{"1":"Response & Relief","2":"State Departments","3":"Other Federal Revenue","4":"3070635807"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["FF_Cat2"],"name":[1],"type":["chr"],"align":["left"]},{"label":["FY20"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["FY21"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["FY22"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"Excluded","2":"2955544419","3":"NA","4":"5930002892"},{"1":"Federal Medicaid","2":"2636263219","3":"4469242245","4":"NA"},{"1":"Other Federal Revenue","2":"10113442152","3":"2778017202","4":"21155791707"},{"1":"Federal Transportation","2":"NA","3":"NA","4":"1970554520"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Legislation values were: ARPA = $25.6 Billion; CARES = $15.7 Billion; Families First = $4.5 Billion; PPP &amp; Health Care = $2.8 Billion; Response &amp; Relief = $3.4 Billion. Additional labels were added using Publisher to create the following image:</p>
<p><img src="images/image-105349095.png" class="img-fluid"></p>
<p>Illinois received $11.7 billion dollars from State Fiscal Recovery Funds and $31.4 billion in other federal revenue to state departments. This other federal revenue frequently came in the form of increased or new grants to many State Departments that normally receive federal funding. Local Governments within Illinois received an additional $8.9 billion for economic recovery but we do not include funds given straight to localities in our State COVID recovery fund calculations or Fiscal Gap analysis.</p>
<p>Below is a graph showing federal stimulus money that was received in each year, the federal agency/fund that it came from, and what kind of revenue it was considered (Federal Other, transportation, or medicaid) who received the money (e.g.&nbsp;the State of Illinois, Department of Human Services, Local Governments, etc.). $15.7 billion was received in FY20, $7.24 billion in FY21, and $29 billion was received in FY22 from multiple COVID response Federal Acts. The graph above shows the year received, the federal government’s fund name or purpose, the department that received the funds, and the fiscal futures spending category that the purpose falls under.</p>
<p>Again, these graphs show the funds that were received and their intended purpose, NOT the data on how or when it was spent.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>sankey <span class="sc">%&gt;%</span> <span class="fu">filter</span>(FF_Cat2<span class="sc">!=</span> <span class="st">"Excluded"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> <span class="st">`</span><span class="at">Dollars Received</span><span class="st">`</span>, <span class="at">axis4 =</span> FY, <span class="at">axis3=</span> <span class="st">`</span><span class="at">Category</span><span class="st">`</span>,  <span class="at">axis1=</span>FF_Cat2</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>          <span class="co"># , label = "stratum"</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>           )) <span class="sc">+</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_flow</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Legislation, <span class="at">label =</span> <span class="st">"flow"</span>), </span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a> <span class="co"># guides(fill = FALSE) +   </span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_stratum</span>(<span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>     <span class="fu">geom_text</span>(<span class="at">stat =</span> <span class="st">"stratum"</span>, <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">after_stat</span>(stratum)), </span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>               <span class="at">size =</span> <span class="dv">2</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"YlOrRd"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)<span class="sc">+</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"State Received $16 Billion in FY20, $7 Billion in FY21, and $29 Billion in FY22"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="FedMoneyReceived_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>sankey <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(FY)<span class="sc">%&gt;%</span><span class="fu">summarize</span>(<span class="at">TotalReceived=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">Dollars Received</span><span class="st">`</span>))</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>sankey <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Legislation)<span class="sc">%&gt;%</span><span class="fu">summarize</span>(<span class="at">TotalReceived=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">Dollars Received</span><span class="st">`</span>))</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>sankey <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Recipient)<span class="sc">%&gt;%</span><span class="fu">summarize</span>(<span class="at">TotalReceived=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">Dollars Received</span><span class="st">`</span>))</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>sankey <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(FF_Cat)<span class="sc">%&gt;%</span><span class="fu">summarize</span>(<span class="at">TotalReceived=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">Dollars Received</span><span class="st">`</span>))</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>sankey <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Legislation, Recipient)<span class="sc">%&gt;%</span><span class="fu">summarize</span>(<span class="at">TotalReceived=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">Dollars Received</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Legislation, <span class="at">values_from =</span> TotalReceived)</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>sankey <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Legislation, FF_Cat)<span class="sc">%&gt;%</span><span class="fu">summarize</span>(<span class="at">TotalReceived=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">Dollars Received</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Legislation, <span class="at">values_from =</span> TotalReceived)</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>sankey <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(FY, FF_Cat)<span class="sc">%&gt;%</span><span class="fu">summarize</span>(<span class="at">TotalReceived=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">Dollars Received</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> FY, <span class="at">values_from =</span> TotalReceived)</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>sankey <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Legislation, FF_Cat2)<span class="sc">%&gt;%</span><span class="fu">summarize</span>(<span class="at">TotalReceived=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">Dollars Received</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Legislation, <span class="at">values_from =</span> TotalReceived)</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>sankey <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(FY, FF_Cat2)<span class="sc">%&gt;%</span><span class="fu">summarize</span>(<span class="at">TotalReceived=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">Dollars Received</span><span class="st">`</span>)) <span class="sc">%&gt;%</span> <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> FY, <span class="at">values_from =</span> TotalReceived)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["FY"],"name":[1],"type":["chr"],"align":["left"]},{"label":["TotalReceived"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"FY20","2":"15705249790"},{"1":"FY21","2":"7247259447"},{"1":"FY22","2":"29056349119"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Legislation"],"name":[1],"type":["chr"],"align":["left"]},{"label":["TotalReceived"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"ARPA","2":"25630230465"},{"1":"CARES","2":"15705249790"},{"1":"Families First","2":"4469242245"},{"1":"PPP & Health Care","2":"2778017202"},{"1":"Response & Relief","2":"3426118654"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Recipient"],"name":[1],"type":["chr"],"align":["left"]},{"label":["TotalReceived"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"Human Services","2":"3627363000"},{"1":"ISBE","2":"8031662158"},{"1":"Local Govs-Excluded","2":"8885547311"},{"1":"Other","2":"7442989087"},{"1":"State","2":"24021296800"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["FF_Cat"],"name":[1],"type":["chr"],"align":["left"]},{"label":["TotalReceived"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"Excluded","2":"8885547311"},{"1":"Federal Other","2":"6606635965"},{"1":"K-12","2":"8031662158"},{"1":"Medicaid","2":"9883522666"},{"1":"Other","2":"4984990736"},{"1":"State CURE","2":"11645945000"},{"1":"Transit","2":"1970554520"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Recipient"],"name":[1],"type":["chr"],"align":["left"]},{"label":["ARPA"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["CARES"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Families First"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["PPP & Health Care"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["Response & Relief"],"name":[6],"type":["dbl"],"align":["right"]}],"data":[{"1":"Human Services","2":"3462363000","3":"165000000","4":"NA","5":"NA","6":"NA"},{"1":"ISBE","2":"5054988054","3":"677964975","4":"NA","5":"NA","6":"2298709129"},{"1":"Local Govs-Excluded","2":"5930002892","3":"2955544419","4":"NA","5":"NA","6":"NA"},{"1":"Other","2":"1615071673","3":"5055990736","4":"NA","5":"NA","6":"771926678"},{"1":"State","2":"9567804846","3":"6850749660","4":"4469242245","5":"2778017202","6":"355482847"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["FF_Cat"],"name":[1],"type":["chr"],"align":["left"]},{"label":["ARPA"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["CARES"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Families First"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["PPP & Health Care"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["Response & Relief"],"name":[6],"type":["dbl"],"align":["right"]}],"data":[{"1":"Excluded","2":"5930002892","3":"2955544419","4":"NA","5":"NA","6":"NA"},{"1":"Federal Other","2":"4903167846","3":"931541441","4":"NA","5":"NA","6":"771926678"},{"1":"K-12","2":"5054988054","3":"677964975","4":"NA","5":"NA","6":"2298709129"},{"1":"State CURE","2":"8127000000","3":"3518945000","4":"NA","5":"NA","6":"NA"},{"1":"Transit","2":"1615071673","3":"NA","4":"NA","5":"NA","6":"355482847"},{"1":"Medicaid","2":"NA","3":"2636263219","4":"4469242245","5":"2778017202","6":"NA"},{"1":"Other","2":"NA","3":"4984990736","4":"NA","5":"NA","6":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["FF_Cat"],"name":[1],"type":["chr"],"align":["left"]},{"label":["FY20"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["FY21"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["FY22"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"Excluded","2":"2955544419","3":"NA","4":"5930002892"},{"1":"Federal Other","2":"931541441","3":"NA","4":"5675094524"},{"1":"K-12","2":"677964975","3":"NA","4":"7353697183"},{"1":"Medicaid","2":"2636263219","3":"7247259447","4":"NA"},{"1":"Other","2":"4984990736","3":"NA","4":"NA"},{"1":"State CURE","2":"3518945000","3":"NA","4":"8127000000"},{"1":"Transit","2":"NA","3":"NA","4":"1970554520"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["FF_Cat2"],"name":[1],"type":["chr"],"align":["left"]},{"label":["ARPA"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["CARES"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Families First"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["PPP & Health Care"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["Response & Relief"],"name":[6],"type":["dbl"],"align":["right"]}],"data":[{"1":"Excluded","2":"5930002892","3":"2955544419","4":"NA","5":"NA","6":"NA"},{"1":"Federal Transportation","2":"1615071673","3":"NA","4":"NA","5":"NA","6":"355482847"},{"1":"Other Federal Revenue","2":"18085155900","3":"10113442152","4":"NA","5":"2778017202","6":"3070635807"},{"1":"Federal Medicaid","2":"NA","3":"2636263219","4":"4469242245","5":"NA","6":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["FF_Cat2"],"name":[1],"type":["chr"],"align":["left"]},{"label":["FY20"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["FY21"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["FY22"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"Excluded","2":"2955544419","3":"NA","4":"5930002892"},{"1":"Federal Medicaid","2":"2636263219","3":"4469242245","4":"NA"},{"1":"Other Federal Revenue","2":"10113442152","3":"2778017202","4":"21155791707"},{"1":"Federal Transportation","2":"NA","3":"NA","4":"1970554520"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>More graph variations.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"attemptJan15.xlsx"</span>) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(FF_Cat2 <span class="sc">!=</span> <span class="st">"Exclude"</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(data, </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> Committed, <span class="at">axis4 =</span> FY_Received, <span class="at">axis3 =</span> State_Local, <span class="at">axis2 =</span> StateOrDepartments, <span class="at">axis1=</span>FF_Cat2, <span class="at">label =</span> <span class="st">"stratum"</span>)) <span class="sc">+</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_flow</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Law), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a> <span class="co"># guides(fill = FALSE) +   </span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_stratum</span>(<span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a> <span class="co"># geom_text(stat = "stratum", label.strata = TRUE) + </span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"YlOrRd"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_text</span>(<span class="at">stat =</span> <span class="st">"stratum"</span>, <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">after_stat</span>(stratum)), <span class="at">size =</span> <span class="dv">4</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)<span class="sc">+</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"$43 Billion for Illinois (Excluding Local CURE funds for Local Governments)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="FedMoneyReceived_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(FF_Cat2 <span class="sc">!=</span> <span class="st">"Exclude"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> Committed, <span class="at">axis3 =</span> StateOrDepartments, <span class="at">axis2=</span>FundPurpose2, <span class="at">axis1=</span>FF_Cat, <span class="at">label =</span> <span class="st">"stratum"</span>)) <span class="sc">+</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_flow</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Law), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_stratum</span>(<span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"YlOrRd"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_text</span>(<span class="at">stat =</span> <span class="st">"stratum"</span>, <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">after_stat</span>(stratum)), <span class="at">size =</span> <span class="dv">2</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span><span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>) <span class="sc">+</span> </span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Received: $16 Billion for Illinois + $23.3 for State Departments ($39.7 Billion total)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="FedMoneyReceived_files/figure-html/unnamed-chunk-8-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(FF_Cat2 <span class="sc">!=</span> <span class="st">"Exclude"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> Committed, <span class="at">axis3 =</span> StateOrDepartments, <span class="at">axis2=</span><span class="st">`</span><span class="at">Government Program</span><span class="st">`</span>, <span class="at">label =</span> <span class="st">"stratum"</span>)) <span class="sc">+</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_flow</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Law), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_stratum</span>(<span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"YlOrRd"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_text</span>(<span class="at">stat =</span> <span class="st">"stratum"</span>, <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">after_stat</span>(stratum)), <span class="at">size =</span> <span class="dv">2</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span><span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>) <span class="sc">+</span> </span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Received: $16 Billion for Illinois + $23.3 for State Departments ($39.7 Billion total)"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="FedMoneyReceived_files/figure-html/unnamed-chunk-8-3.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(State_Local) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">sum=</span><span class="fu">sum</span>(Committed))</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(StateOrDepartments) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">sum=</span><span class="fu">sum</span>(Committed))</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(StateOrDepartments, FF_Cat) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">sum=</span><span class="fu">sum</span>(Committed))</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(StateOrDepartments, FF_Cat, FY_Received) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">sum=</span><span class="fu">sum</span>(Committed)) <span class="sc">%&gt;%</span> <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> FY_Received, <span class="at">values_from =</span> sum)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(State_Local <span class="sc">!=</span><span class="st">"Local"</span>) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Law, FF_Cat, FY_Received) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">sum=</span><span class="fu">sum</span>(Committed)) <span class="sc">%&gt;%</span> <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> FY_Received, <span class="at">values_from =</span> sum)</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(StateOrDepartments, FY_Received) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">sum=</span><span class="fu">sum</span>(Committed)) <span class="sc">%&gt;%</span> <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> FY_Received, <span class="at">values_from =</span> sum)</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(State_Local <span class="sc">!=</span><span class="st">"Local"</span>) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Law, FF_Cat) <span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">sum=</span><span class="fu">sum</span>(Committed)) <span class="sc">%&gt;%</span> <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Law, <span class="at">values_from =</span> sum)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["State_Local"],"name":[1],"type":["chr"],"align":["left"]},{"label":["sum"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"Exclude","2":"695541441"},{"1":"State","2":"39684484958"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["StateOrDepartments"],"name":[1],"type":["chr"],"align":["left"]},{"label":["sum"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"Illinois State Govt","2":"16115867560"},{"1":"State Departments","2":"24264158839"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["StateOrDepartments"],"name":[1],"type":["chr"],"align":["left"]},{"label":["FF_Cat"],"name":[2],"type":["chr"],"align":["left"]},{"label":["sum"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"Illinois State Govt","2":"Medicaid","3":"4469242245"},{"1":"Illinois State Govt","2":"State CURE","3":"11646625315"},{"1":"State Departments","2":"Economic Recovery","3":"2518356671"},{"1":"State Departments","2":"K-12","3":"8203012188"},{"1":"State Departments","2":"Medicaid","3":"5414280421"},{"1":"State Departments","2":"Other","3":"8128509559"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["StateOrDepartments"],"name":[1],"type":["chr"],"align":["left"]},{"label":["FF_Cat"],"name":[2],"type":["chr"],"align":["left"]},{"label":["2021"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["2020"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["2022"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"Illinois State Govt","2":"Medicaid","3":"4469242245","4":"NA","5":"NA"},{"1":"Illinois State Govt","2":"State CURE","3":"NA","4":"3518945366","5":"8127679949"},{"1":"State Departments","2":"Economic Recovery","3":"NA","4":"13899434","5":"2504457237"},{"1":"State Departments","2":"K-12","3":"NA","4":"677964975","5":"7525047213"},{"1":"State Departments","2":"Medicaid","3":"2778017202","4":"2636263219","5":"NA"},{"1":"State Departments","2":"Other","3":"NA","4":"6083514185","5":"2044995374"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Law"],"name":[1],"type":["chr"],"align":["left"]},{"label":["FF_Cat"],"name":[2],"type":["chr"],"align":["left"]},{"label":["2022"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["2020"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["2021"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"American Rescue Plan","2":"Economic Recovery","3":"2055553412","4":"NA","5":"NA"},{"1":"American Rescue Plan","2":"K-12","3":"5141848280","4":"NA","5":"NA"},{"1":"American Rescue Plan","2":"Other","3":"1357558500","4":"NA","5":"NA"},{"1":"American Rescue Plan","2":"State CURE","3":"8127679949","4":"NA","5":"NA"},{"1":"CARES Act","2":"Economic Recovery","3":"NA","4":"13899434","5":"NA"},{"1":"CARES Act","2":"K-12","3":"NA","4":"677964975","5":"NA"},{"1":"CARES Act","2":"Medicaid","3":"NA","4":"2636263219","5":"NA"},{"1":"CARES Act","2":"Other","3":"NA","4":"6083514185","5":"NA"},{"1":"CARES Act","2":"State CURE","3":"NA","4":"3518945366","5":"NA"},{"1":"Families First Act","2":"Medicaid","3":"NA","4":"NA","5":"4469242245"},{"1":"PPP & Health Care Enhancement Act","2":"Medicaid","3":"NA","4":"NA","5":"2778017202"},{"1":"Response & Relief Act","2":"Economic Recovery","3":"448903825","4":"NA","5":"NA"},{"1":"Response & Relief Act","2":"K-12","3":"2383198933","4":"NA","5":"NA"},{"1":"Response & Relief Act","2":"Other","3":"687436874","4":"NA","5":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["StateOrDepartments"],"name":[1],"type":["chr"],"align":["left"]},{"label":["2020"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["2021"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["2022"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"Illinois State Govt","2":"3518945366","3":"4469242245","4":"8127679949"},{"1":"State Departments","2":"9411641813","3":"2778017202","4":"12074499824"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["FF_Cat"],"name":[1],"type":["chr"],"align":["left"]},{"label":["American Rescue Plan"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["CARES Act"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Families First Act"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["PPP & Health Care Enhancement Act"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["Response & Relief Act"],"name":[6],"type":["dbl"],"align":["right"]}],"data":[{"1":"Economic Recovery","2":"2055553412","3":"13899434","4":"NA","5":"NA","6":"448903825"},{"1":"K-12","2":"5141848280","3":"677964975","4":"NA","5":"NA","6":"2383198933"},{"1":"Other","2":"1357558500","3":"6083514185","4":"NA","5":"NA","6":"687436874"},{"1":"State CURE","2":"8127679949","3":"3518945366","4":"NA","5":"NA","6":"NA"},{"1":"Medicaid","2":"NA","3":"2636263219","4":"4469242245","5":"2778017202","6":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
<section id="expenditures-graphs" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="expenditures-graphs"><span class="header-section-number">8.2</span> Expenditures Graphs</h2>
<p>Federal expenditures from CURE and other major funds . Uses the <code>fedCUREexpenditures.xlsx</code> file.</p>
<p>This data comes from Illinois Comptroller expenditure data, Legislative Budget Oversight Commission (LBOC) Reports, and the <a href="https://budget.illinois.gov/content/dam/soi/en/web/budget/documents/arpa/IL%20Recovery%20Plan%20Performance%20Report%202022.pdf">ARPA Annual Recovery Plan</a> detailing the State’s use of State and Local Fiscal Recovery Funds (SLFRF) which is prepared by the Governor’s Office of Management and Budget (GOMB).</p>
<p>The graphs below do not include FY23 allocations for federal funds. Dates on top are Fiscal Year received. Dates in the middle of the graph are Fiscal Year expenditures. Federal funds for COVID recovery have been received and spent in different years. This makes calculating and comparing the fiscal gap difficult.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>cure_exp <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"fedCUREexpenditures.xlsx"</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>cure_exp <span class="ot">&lt;-</span> cure_exp <span class="sc">%&gt;%</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">filter</span>(FY_Spent <span class="sc">&lt;</span><span class="dv">2023</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">FY_Spent =</span> <span class="fu">factor</span>(FY_Spent, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"2020"</span>, <span class="st">"2021"</span>, <span class="st">"2022"</span>, <span class="st">"2023+"</span>)),</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">FY_Received =</span> <span class="fu">factor</span>(FY_Received, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"2020"</span>, <span class="st">"2021"</span>, <span class="st">"2022"</span>)),</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">FF_Cat =</span> <span class="fu">factor</span>(FF_Cat, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Econ Dev"</span>, <span class="st">"Human Services"</span>, <span class="st">"K-12"</span>, <span class="st">"Local Transfers"</span>, <span class="st">"Public Health"</span>, <span class="st">"Medicaid"</span>, <span class="st">"Public Safety"</span>, <span class="st">"Lost Revenue"</span>, <span class="st">"UI Fund"</span>, <span class="st">"FY23+"</span>))</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>         )</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Year Spent, Agency received, FF Spending Category </span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cure_exp, </span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> <span class="st">`</span><span class="at">FY Expenditures</span><span class="st">`</span>, <span class="at">axis3 =</span> FY_Spent, <span class="at">axis2 =</span> Agency, <span class="at">axis1=</span>FF_Cat, <span class="at">label =</span> <span class="st">"stratum"</span>)) <span class="sc">+</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_flow</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Law), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_stratum</span>(<span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a> <span class="fu">geom_text</span>(<span class="at">stat =</span> <span class="st">"stratum"</span>, <span class="at">label.strata =</span> <span class="cn">TRUE</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"YlOrRd"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_text</span>(<span class="at">stat =</span> <span class="st">"stratum"</span>, <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">after_stat</span>(stratum)), <span class="at">size =</span> <span class="dv">2</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span> </span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"bottom"</span>)<span class="sc">+</span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"$12.2 Billion Spent So far: Year Spent, Agency received, FF Spending Category"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="FedMoneyReceived_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Switch Year Spent &amp; Agency received, FF Spending Category </span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cure_exp, </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> <span class="st">`</span><span class="at">FY Expenditures</span><span class="st">`</span>, <span class="at">axis3 =</span> Agency, <span class="at">axis2 =</span> FY_Spent , <span class="at">axis1=</span>FF_Cat, <span class="at">label =</span> <span class="st">"stratum"</span>)) <span class="sc">+</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_flow</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Law), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_stratum</span>(<span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a> <span class="fu">geom_text</span>(<span class="at">stat =</span> <span class="st">"stratum"</span>, <span class="at">label.strata =</span> <span class="cn">TRUE</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"YlOrRd"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_text</span>(<span class="at">stat =</span> <span class="st">"stratum"</span>, <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">after_stat</span>(stratum)), <span class="at">size =</span> <span class="dv">2</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span> </span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"bottom"</span>)<span class="sc">+</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Expenditures: Agency received, Year Spent, FF Spending Category "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="FedMoneyReceived_files/figure-html/unnamed-chunk-9-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cure_exp, </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> <span class="st">`</span><span class="at">FY Expenditures</span><span class="st">`</span>, <span class="at">axis3 =</span> <span class="st">`</span><span class="at">Federal Funds</span><span class="st">`</span>, <span class="at">axis2 =</span> FY_Spent, <span class="at">axis1=</span>Fund, <span class="at">label =</span> <span class="st">"stratum"</span>)) <span class="sc">+</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_flow</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Law), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_stratum</span>(<span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a> <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"YlOrRd"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span> </span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_text</span>(<span class="at">stat =</span> <span class="st">"stratum"</span>, <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">after_stat</span>(stratum)), <span class="at">size =</span> <span class="dv">2</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"bottom"</span>)<span class="sc">+</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Expenditures: Department that Received Revenue, Year Spent, and Purpose of Expenditure"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="FedMoneyReceived_files/figure-html/unnamed-chunk-9-3.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cure_exp, </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> <span class="st">`</span><span class="at">FY Expenditures</span><span class="st">`</span>, <span class="at">axis3 =</span> <span class="st">`</span><span class="at">State_local2</span><span class="st">`</span>, <span class="at">axis2 =</span> Agency, <span class="at">axis1=</span>FF_Cat, <span class="at">label =</span> <span class="st">"stratum"</span>)) <span class="sc">+</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_flow</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Law), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_stratum</span>(<span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a> <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"YlOrRd"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span> </span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"bottom"</span>)<span class="sc">+</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_text</span>(<span class="at">stat =</span> <span class="st">"stratum"</span>, <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">after_stat</span>(stratum)), <span class="at">size =</span> <span class="dv">2</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"bottom"</span>)<span class="sc">+</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Expenditures: Department that Received Revenue, Year Spent, and Purpose of Expenditure"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="FedMoneyReceived_files/figure-html/unnamed-chunk-9-4.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cure_exp, </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> <span class="st">`</span><span class="at">Agency_grouped</span><span class="st">`</span>, <span class="at">axis3 =</span> <span class="st">`</span><span class="at">State_local2</span><span class="st">`</span>, <span class="at">axis2 =</span> Agency, <span class="at">axis1=</span>FF_Cat, <span class="at">label =</span> <span class="st">"stratum"</span>)) <span class="sc">+</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_flow</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Law), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_stratum</span>(<span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a> <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"YlOrRd"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span> </span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"bottom"</span>)<span class="sc">+</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_text</span>(<span class="at">stat =</span> <span class="st">"stratum"</span>, <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">after_stat</span>(stratum)), <span class="at">size =</span> <span class="dv">2</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"bottom"</span>)<span class="sc">+</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Expenditures: Department that Received Revenue, Year Spent, and Purpose of Expenditure"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="FedMoneyReceived_files/figure-html/unnamed-chunk-9-5.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cure_exp, </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> <span class="st">`</span><span class="at">FY Expenditures</span><span class="st">`</span>, <span class="at">axis3 =</span> <span class="st">`</span><span class="at">State_local2</span><span class="st">`</span>, <span class="at">axis2 =</span> FY_Spent, <span class="at">axis1=</span>FF_Cat, <span class="at">label =</span> <span class="st">"stratum"</span>)) <span class="sc">+</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_flow</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Law), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_stratum</span>(<span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"YlOrRd"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span> </span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_text</span>(<span class="at">stat =</span> <span class="st">"stratum"</span>, <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">after_stat</span>(stratum)), <span class="at">size =</span> <span class="dv">2</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)<span class="sc">+</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Expenditures: Funds from the State of Illinois or State Departments, Year Spent, and FF Expenditure Purpose"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="FedMoneyReceived_files/figure-html/unnamed-chunk-9-6.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cure_exp, </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> <span class="st">`</span><span class="at">FY Expenditures</span><span class="st">`</span>, <span class="at">axis3 =</span> <span class="st">`</span><span class="at">State_local2</span><span class="st">`</span>, <span class="at">axis2 =</span> Fund, <span class="at">axis1=</span>FF_Cat, <span class="at">label =</span> <span class="st">"stratum"</span>)) <span class="sc">+</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_flow</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Law), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_stratum</span>(<span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"YlOrRd"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span> </span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_text</span>(<span class="at">stat =</span> <span class="st">"stratum"</span>, <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">after_stat</span>(stratum)), <span class="at">size =</span> <span class="dv">2</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)<span class="sc">+</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Expenditures: Funds from the State of Illinois or State Departments, Year Spent, and FF Expenditure Purpose"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="FedMoneyReceived_files/figure-html/unnamed-chunk-9-7.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cure_exp, </span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> <span class="st">`</span><span class="at">FY Expenditures</span><span class="st">`</span>, <span class="at">axis3 =</span> <span class="st">`</span><span class="at">State_local2</span><span class="st">`</span>, <span class="at">axis2 =</span> FY_Spent, <span class="at">axis1=</span>FF_Cat2, <span class="at">label =</span> <span class="st">"stratum"</span>)) <span class="sc">+</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_flow</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Law), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_stratum</span>(<span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"YlOrRd"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span> </span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_text</span>(<span class="at">stat =</span> <span class="st">"stratum"</span>, <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">after_stat</span>(stratum)), <span class="at">size =</span> <span class="dv">2</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)<span class="sc">+</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Expenditures: Funds from the State of Illinois or State Departments, Year Spent, and FF Expenditure Purpose"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="FedMoneyReceived_files/figure-html/unnamed-chunk-9-8.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">#4 levels with labels</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cure_exp, </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> <span class="st">`</span><span class="at">FY Expenditures</span><span class="st">`</span>, <span class="at">axis4 =</span> <span class="st">`</span><span class="at">FY_Received</span><span class="st">`</span>,  <span class="at">axis3 =</span> <span class="st">`</span><span class="at">Federal Funds</span><span class="st">`</span>, <span class="at">axis2 =</span> FY_Spent, <span class="at">axis1=</span>FF_Cat, <span class="at">label =</span> <span class="st">"stratum"</span>)) <span class="sc">+</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_flow</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Law), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_stratum</span>(<span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"YlOrRd"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span> </span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_text</span>(<span class="at">stat =</span> <span class="st">"stratum"</span>, <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">after_stat</span>(stratum)), <span class="at">size =</span> <span class="dv">2</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"bottom"</span>)<span class="sc">+</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Year Received, Federal Fund, Year Spent, and Purpose"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="FedMoneyReceived_files/figure-html/unnamed-chunk-9-9.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>cure_exp <span class="sc">%&gt;%</span> <span class="fu">filter</span>(State_local <span class="sc">==</span> <span class="st">"State CURE"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> <span class="st">`</span><span class="at">FY Expenditures</span><span class="st">`</span>, <span class="at">axis4 =</span> FY_Received, <span class="at">axis3 =</span> <span class="st">`</span><span class="at">Agency</span><span class="st">`</span>,  <span class="at">axis2 =</span> FY_Spent, <span class="at">axis1=</span>FF_Cat, <span class="at">label =</span> <span class="st">"stratum"</span>)) <span class="sc">+</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_flow</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Law), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_stratum</span>(<span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"YlOrRd"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span> </span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"bottom"</span>)<span class="sc">+</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_text</span>(<span class="at">stat =</span> <span class="st">"stratum"</span>, <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">after_stat</span>(stratum)), <span class="at">size =</span> <span class="dv">2</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Year Received, Federal Fund, Year Spent, and Purpose"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="FedMoneyReceived_files/figure-html/unnamed-chunk-9-10.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>cure_exp <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(FY_Received)<span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">Expenditures=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">FY Expenditures</span><span class="st">`</span>))</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>cure_exp <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Federal Funds</span><span class="st">`</span>)<span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">Expenditures=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">FY Expenditures</span><span class="st">`</span>))</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>cure_exp <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(State_local2)<span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">Expenditures=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">FY Expenditures</span><span class="st">`</span>))</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>cure_exp<span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">Expenditures=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">FY Expenditures</span><span class="st">`</span>))</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>cure_exp <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(<span class="st">`</span><span class="at">FY_Spent</span><span class="st">`</span>)<span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">Expenditures=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">FY Expenditures</span><span class="st">`</span>))</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>cure_exp <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(<span class="st">`</span><span class="at">FF_Cat</span><span class="st">`</span>)<span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">Expenditures=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">FY Expenditures</span><span class="st">`</span>))</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>cure_exp <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Law)<span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">Expenditures=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">FY Expenditures</span><span class="st">`</span>))</span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>cure_exp <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Law, FY_Spent, FF_Cat)<span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">Expenditures=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">FY Expenditures</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> FY_Spent, <span class="at">values_from =</span> Expenditures) </span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>cure_exp <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Law, FY_Received)<span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">Expenditures=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">FY Expenditures</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Law, <span class="at">values_from =</span> Expenditures) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(FY_Received)</span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a>cure_exp <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Law, FY_Spent)<span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">Expenditures=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">FY Expenditures</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Law, <span class="at">values_from =</span> Expenditures) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(FY_Spent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["FY_Received"],"name":[1],"type":["fct"],"align":["left"]},{"label":["Expenditures"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"2020","2":"3538.5"},{"1":"2022","2":"8642.0"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Federal Funds"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Expenditures"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"CRF","2":"2702.0"},{"1":"Other Fed Rev","2":"4551.5"},{"1":"SLFRF","2":"4927.0"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["State_local2"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Expenditures"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"State","2":"7629.0"},{"1":"State Department","2":"4551.5"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Expenditures"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"12180.5"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["FY_Spent"],"name":[1],"type":["fct"],"align":["left"]},{"label":["Expenditures"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"2021","2":"2702.0"},{"1":"2022","2":"9478.5"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["FF_Cat"],"name":[1],"type":["fct"],"align":["left"]},{"label":["Expenditures"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"Econ Dev","2":"2354.0"},{"1":"Human Services","2":"1868.0"},{"1":"K-12","2":"1919.5"},{"1":"Local Transfers","2":"240.0"},{"1":"Public Health","2":"852.0"},{"1":"Medicaid","2":"705.0"},{"1":"Public Safety","2":"542.0"},{"1":"Lost Revenue","2":"1000.0"},{"1":"UI Fund","2":"2700.0"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Law"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Expenditures"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"ARPA","2":"7404.0"},{"1":"CARES","2":"3538.5"},{"1":"CRRSA","2":"1238.0"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Law"],"name":[1],"type":["chr"],"align":["left"]},{"label":["FF_Cat"],"name":[2],"type":["fct"],"align":["left"]},{"label":["2022"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["2021"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"ARPA","2":"Econ Dev","3":"1694.0","4":"NA"},{"1":"ARPA","2":"Human Services","3":"1276.0","4":"NA"},{"1":"ARPA","2":"K-12","3":"444.0","4":"NA"},{"1":"ARPA","2":"Public Health","3":"175.0","4":"NA"},{"1":"ARPA","2":"Public Safety","3":"115.0","4":"NA"},{"1":"ARPA","2":"Lost Revenue","3":"1000.0","4":"NA"},{"1":"ARPA","2":"UI Fund","3":"2700.0","4":"NA"},{"1":"CARES","2":"Econ Dev","3":"NA","4":"660"},{"1":"CARES","2":"Human Services","3":"NA","4":"260"},{"1":"CARES","2":"Local Transfers","3":"NA","4":"240"},{"1":"CARES","2":"Public Health","3":"267.0","4":"410"},{"1":"CARES","2":"Medicaid","3":"NA","4":"705"},{"1":"CARES","2":"Public Safety","3":"NA","4":"427"},{"1":"CARES","2":"K-12","3":"569.5","4":"NA"},{"1":"CRRSA","2":"Human Services","3":"332.0","4":"NA"},{"1":"CRRSA","2":"K-12","3":"906.0","4":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["FY_Received"],"name":[1],"type":["fct"],"align":["left"]},{"label":["ARPA"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["CARES"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["CRRSA"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"2020","2":"NA","3":"3538.5","4":"NA"},{"1":"2022","2":"7404","3":"NA","4":"1238"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["FY_Spent"],"name":[1],"type":["fct"],"align":["left"]},{"label":["ARPA"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["CARES"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["CRRSA"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"2021","2":"NA","3":"2702.0","4":"NA"},{"1":"2022","2":"7404","3":"836.5","4":"1238"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Graphs below include how money has been spent in FY21 and FY22 with unspent funds labeled as <code>FY2023+</code>.</p>
<p>This image focuses on only the funds that came through the State and Local Fiscal Recovery Fund and a couple additional funds that came through different agencies but were received by the State of Illinois. Other Federal Revenue largely indicates the ESSER funds that were received by ISBE and were spent on K-12 education.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>cure_exp <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"fedCUREexpenditures.xlsx"</span>)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>cure_exp <span class="ot">&lt;-</span> cure_exp <span class="sc">%&gt;%</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a> <span class="co">#   filter(FY_Spent &lt;2023) %&gt;%</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">FY_Spent =</span> <span class="fu">factor</span>(FY_Spent, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"2020"</span>, <span class="st">"2021"</span>, <span class="st">"2022"</span>, <span class="st">"2023+"</span>)),</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">FY_Received =</span> <span class="fu">factor</span>(FY_Received, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"2020"</span>, <span class="st">"2021"</span>, <span class="st">"2022"</span>)),</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">FF_Cat =</span> <span class="fu">factor</span>(FF_Cat, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Econ Dev"</span>, <span class="st">"Human Services"</span>, <span class="st">"K-12"</span>, <span class="st">"Local Transfers"</span>, <span class="st">"Public Health"</span>, <span class="st">"Medicaid"</span>, <span class="st">"Public Safety"</span>, <span class="st">"UI Fund"</span>, <span class="st">"Lost Revenue"</span>, <span class="st">"FY23+"</span>))</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>         )</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a><span class="co">#4 levels with labels</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cure_exp, </span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> <span class="st">`</span><span class="at">FY Expenditures</span><span class="st">`</span>, <span class="at">axis4 =</span> <span class="st">`</span><span class="at">FY_Received</span><span class="st">`</span>,  <span class="at">axis3 =</span> <span class="st">`</span><span class="at">Federal Funds</span><span class="st">`</span>, <span class="at">axis2 =</span> FY_Spent, <span class="at">axis1=</span>FF_Cat, <span class="at">label =</span> <span class="st">"stratum"</span>)) <span class="sc">+</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_flow</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Law), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_stratum</span>(<span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a><span class="co"># geom_text(stat = "stratum", aes(label = after_stat(stratum)), reverse=FALSE) + </span></span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"YlOrRd"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span> </span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_text</span>(<span class="at">stat =</span> <span class="st">"stratum"</span>, <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">after_stat</span>(stratum)), <span class="at">size =</span> <span class="dv">2</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="FedMoneyReceived_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cure_exp, </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> <span class="st">`</span><span class="at">FY Expenditures</span><span class="st">`</span>, <span class="at">axis4 =</span> <span class="st">`</span><span class="at">FY_Received</span><span class="st">`</span>,  <span class="at">axis3 =</span> <span class="st">`</span><span class="at">State_local2</span><span class="st">`</span>, <span class="at">axis2 =</span> FY_Spent, <span class="at">axis1=</span>FF_Cat, <span class="at">label =</span> <span class="st">"stratum"</span>)) <span class="sc">+</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_flow</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Law), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_stratum</span>(<span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co"># geom_text(stat = "stratum", aes(label = after_stat(stratum)), reverse=FALSE) + </span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"YlOrRd"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span> </span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_text</span>(<span class="at">stat =</span> <span class="st">"stratum"</span>, <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">after_stat</span>(stratum)), <span class="at">size =</span> <span class="dv">2</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="FedMoneyReceived_files/figure-html/unnamed-chunk-11-2.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cure_exp, </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> <span class="st">`</span><span class="at">FY Expenditures</span><span class="st">`</span>, <span class="at">axis3 =</span> <span class="st">`</span><span class="at">State_local2</span><span class="st">`</span>, <span class="at">axis2 =</span> FY_Spent, <span class="at">axis1=</span>FF_Cat, <span class="at">label =</span> <span class="st">"stratum"</span>)) <span class="sc">+</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_flow</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Law), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_stratum</span>(<span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="co"># geom_text(stat = "stratum", aes(label = after_stat(stratum)), reverse=FALSE) + </span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"YlOrRd"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span> </span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_text</span>(<span class="at">stat =</span> <span class="st">"stratum"</span>, <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">after_stat</span>(stratum)), <span class="at">size =</span> <span class="dv">2</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="FedMoneyReceived_files/figure-html/unnamed-chunk-11-3.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cure_exp, </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> <span class="st">`</span><span class="at">FY Expenditures</span><span class="st">`</span>, <span class="at">axis3 =</span> <span class="st">`</span><span class="at">State_local2</span><span class="st">`</span>, <span class="at">axis2 =</span> FY_Spent, <span class="at">axis1=</span>FF_Cat2, <span class="at">label =</span> <span class="st">"stratum"</span>)) <span class="sc">+</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_flow</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Law), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_stratum</span>(<span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="co"># geom_text(stat = "stratum", aes(label = after_stat(stratum)), reverse=FALSE) + </span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"YlOrRd"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span> </span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>        <span class="fu">geom_text</span>(<span class="at">stat =</span> <span class="st">"stratum"</span>, <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">after_stat</span>(stratum)), <span class="at">size =</span> <span class="dv">2</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="FedMoneyReceived_files/figure-html/unnamed-chunk-11-4.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>cure_exp <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(FY_Received)<span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">Expenditures=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">FY Expenditures</span><span class="st">`</span>))</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>cure_exp <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Federal Funds</span><span class="st">`</span>)<span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">Expenditures=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">FY Expenditures</span><span class="st">`</span>))</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>cure_exp <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(<span class="st">`</span><span class="at">FY_Spent</span><span class="st">`</span>)<span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">Expenditures=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">FY Expenditures</span><span class="st">`</span>))</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>cure_exp <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(<span class="st">`</span><span class="at">FF_Cat</span><span class="st">`</span>)<span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">Expenditures=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">FY Expenditures</span><span class="st">`</span>))</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>cure_exp <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Law)<span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">Expenditures=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">FY Expenditures</span><span class="st">`</span>))</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>cure_exp <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Law, FY_Received)<span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">Expenditures=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">FY Expenditures</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Law, <span class="at">values_from =</span> Expenditures) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(FY_Received)</span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>cure_exp <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Law, FY_Spent)<span class="sc">%&gt;%</span> <span class="fu">summarize</span>(<span class="at">Expenditures=</span><span class="fu">sum</span>(<span class="st">`</span><span class="at">FY Expenditures</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> Law, <span class="at">values_from =</span> Expenditures) <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(FY_Spent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["FY_Received"],"name":[1],"type":["fct"],"align":["left"]},{"label":["Expenditures"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"2020","2":"3538.5"},{"1":"2022","2":"11842.0"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Federal Funds"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Expenditures"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"CRF","2":"2702.0"},{"1":"Other Fed Rev","2":"4551.5"},{"1":"SLFRF","2":"8127.0"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["FY_Spent"],"name":[1],"type":["fct"],"align":["left"]},{"label":["Expenditures"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"2021","2":"2702.0"},{"1":"2022","2":"9478.5"},{"1":"2023+","2":"3200.0"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["FF_Cat"],"name":[1],"type":["fct"],"align":["left"]},{"label":["Expenditures"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"Econ Dev","2":"2354.0"},{"1":"Human Services","2":"1868.0"},{"1":"K-12","2":"1919.5"},{"1":"Local Transfers","2":"240.0"},{"1":"Public Health","2":"852.0"},{"1":"Medicaid","2":"705.0"},{"1":"Public Safety","2":"542.0"},{"1":"UI Fund","2":"2700.0"},{"1":"Lost Revenue","2":"1000.0"},{"1":"FY23+","2":"3200.0"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Law"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Expenditures"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"ARPA","2":"10604.0"},{"1":"CARES","2":"3538.5"},{"1":"CRRSA","2":"1238.0"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["FY_Received"],"name":[1],"type":["fct"],"align":["left"]},{"label":["ARPA"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["CARES"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["CRRSA"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"2020","2":"NA","3":"3538.5","4":"NA"},{"1":"2022","2":"10604","3":"NA","4":"1238"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["FY_Spent"],"name":[1],"type":["fct"],"align":["left"]},{"label":["ARPA"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["CARES"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["CRRSA"],"name":[4],"type":["dbl"],"align":["right"]}],"data":[{"1":"2021","2":"NA","3":"2702.0","4":"NA"},{"1":"2022","2":"7404","3":"836.5","4":"1238"},{"1":"2023+","2":"3200","3":"NA","4":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>$3.5 Billion received in FY20 for SFRF, $9.7 billion received in FY22. Over $10 billion has gone into the State CURE fund and another $2.4 billion was received by State Departments. Of that over $13 billion spent, $2.7 billion was spent in FY21 and $8.5 Billion was spent in FY22. The remaining $2 Billion State CURE funds have been fully allocated and some have been spent already in FY23 ($500 million on lost revenue, remaining on programs and services).</p>
<blockquote class="blockquote">
<p>Note: Increased Matching Grant and Medicare Continuous Coverage Requirement dollars all count as Federal Medicaid Revenue. TANF and SNAP are considered Other Federal Revenue.</p>
</blockquote>
</section>
<section id="other-revenue-graphs" class="level2" data-number="8.3">
<h2 data-number="8.3" class="anchored" data-anchor-id="other-revenue-graphs"><span class="header-section-number">8.3</span> Other Revenue Graphs</h2>
<p>Sankeyattempt2022.csv file totals $32 billion flowing into the state. $16.15 billion came in FY21 and $16.1 billion in FY22.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>sankeydata <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"sankeyattempt2022.csv"</span>) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(StFund <span class="sc">==</span> <span class="st">"Total"</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>sankeydata2 <span class="ot">&lt;-</span> sankeydata <span class="sc">%&gt;%</span> <span class="fu">select</span>(Federal, StateFunds, StFund, Expenditures, value, Notes) <span class="sc">%&gt;%</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(StFund <span class="sc">==</span> <span class="st">"Total"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">StateFunds =</span> <span class="fu">factor</span>(StateFunds, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Total_received_fy20"</span>,<span class="st">"Total_received_fy21"</span>, <span class="st">"Total_received_fy22"</span>)),</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>                  <span class="at">Federal =</span> <span class="fu">as.factor</span>(Federal),</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>                  <span class="at">Expenditures =</span> <span class="fu">factor</span>(Expenditures, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Community Development"</span>, <span class="st">"Transit"</span>, <span class="st">"Public Health"</span>, <span class="st">"Medicaid"</span>, <span class="st">"K-12"</span>, <span class="st">"Federal Other"</span>)),</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">Notes =</span> <span class="fu">factor</span>(Notes, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"CARES"</span>, <span class="st">"CRRSA"</span>, <span class="st">"ARPA"</span>, <span class="st">"Other *"</span>)))</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>sankey4 <span class="ot">&lt;-</span> sankeydata2</span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sankey4, </span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> value, </span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>           <span class="at">axis3 =</span> Federal, <span class="at">axis2 =</span> StateFunds, <span class="at">axis1=</span>Expenditures, <span class="at">label =</span> <span class="st">"stratum"</span>)) <span class="sc">+</span></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_flow</span>(<span class="fu">aes</span>(<span class="at">fill =</span> Notes), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_stratum</span>(<span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a><span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"YlOrRd"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>     <span class="fu">scale_x_discrete</span>( <span class="at">limits =</span> <span class="fu">c</span>(<span class="st">"Federal Funds"</span>, <span class="st">"State Funds"</span>, <span class="st">"Expenditure Categories"</span>) )<span class="sc">+</span> </span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_text</span>(<span class="at">stat =</span> <span class="st">"stratum"</span>, <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">after_stat</span>(stratum)), <span class="at">size =</span> <span class="dv">2</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="FedMoneyReceived_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>sankey4 <span class="sc">%&gt;%</span> <span class="co">#group_by(StateFunds) %&gt;% </span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">sum=</span><span class="fu">sum</span>(value))</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>sankey4 <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(StateFunds) <span class="sc">%&gt;%</span> </span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">sum=</span><span class="fu">sum</span>(value))</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>sankey4 <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Expenditures) <span class="sc">%&gt;%</span> </span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">sum=</span><span class="fu">sum</span>(value))</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>sankey4 <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Notes) <span class="sc">%&gt;%</span> </span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">sum=</span><span class="fu">sum</span>(value))</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>sankey4 <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(StateFunds, Expenditures) <span class="sc">%&gt;%</span> </span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">sum=</span><span class="fu">sum</span>(value))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["sum"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"32248642517"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["StateFunds"],"name":[1],"type":["fct"],"align":["left"]},{"label":["sum"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"Total_received_fy20","2":"3518945000"},{"1":"Total_received_fy21","2":"12632709463"},{"1":"Total_received_fy22","2":"16096988054"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Expenditures"],"name":[1],"type":["fct"],"align":["left"]},{"label":["sum"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"Community Development","2":"3518945000"},{"1":"Transit","2":"1620000000"},{"1":"Public Health","2":"6638000000"},{"1":"Medicaid","2":"4469242245"},{"1":"K-12","2":"7875455272"},{"1":"Federal Other","2":"8127000000"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Notes"],"name":[1],"type":["fct"],"align":["left"]},{"label":["sum"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"CARES","2":"8888412218"},{"1":"CRRSA","2":"2915000000"},{"1":"ARPA","2":"13181988054"},{"1":"Other *","2":"7263242245"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["StateFunds"],"name":[1],"type":["fct"],"align":["left"]},{"label":["Expenditures"],"name":[2],"type":["fct"],"align":["left"]},{"label":["sum"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"Total_received_fy20","2":"Community Development","3":"3518945000"},{"1":"Total_received_fy21","2":"Transit","3":"1620000000"},{"1":"Total_received_fy21","2":"Public Health","3":"5974000000"},{"1":"Total_received_fy21","2":"Medicaid","3":"4469242245"},{"1":"Total_received_fy21","2":"K-12","3":"569467218"},{"1":"Total_received_fy22","2":"Public Health","3":"664000000"},{"1":"Total_received_fy22","2":"K-12","3":"7305988054"},{"1":"Total_received_fy22","2":"Federal Other","3":"8127000000"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Graph below shows same amount in federal COVID dollars but here color indicates the fund that the money was received in.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>sankeydata <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"sankeyattempt2022.csv"</span>) <span class="sc">%&gt;%</span> <span class="fu">filter</span>(StFund <span class="sc">==</span> <span class="st">"Total"</span>)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>sankey <span class="ot">&lt;-</span> sankeydata <span class="sc">%&gt;%</span> <span class="fu">select</span>(Federal, StateFunds, StFund, Expenditures, stfundname, value, Notes) <span class="sc">%&gt;%</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">StateFunds =</span> <span class="fu">factor</span>(StateFunds, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Total_received_fy20"</span>, <span class="st">"Total_received_fy21"</span>, <span class="st">"Total_received_fy22"</span>)),</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">stfundname =</span> <span class="fu">as.factor</span>(stfundname),</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">Federal =</span> <span class="fu">as.factor</span>(Federal),</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>         </span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>                   <span class="at">Expenditures =</span> <span class="fu">factor</span>(Expenditures, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Transit"</span>, <span class="st">"Medicaid"</span>, <span class="st">"Public Health"</span>,  <span class="st">"K-12"</span>, <span class="st">"Federal Other"</span>, <span class="st">"Community Development"</span>)),</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">Notes =</span> <span class="fu">factor</span>(Notes, <span class="at">levels =</span> <span class="fu">c</span>( <span class="st">"Other *"</span>, <span class="st">"CARES"</span>,<span class="st">"CRRSA"</span>, <span class="st">"ARPA"</span>)))</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sankey, </span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> value, <span class="at">axis3 =</span> Federal, <span class="at">axis2 =</span> stfundname, <span class="at">axis1=</span>Expenditures, <span class="at">label =</span> <span class="st">"stratum"</span>)) <span class="sc">+</span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_flow</span>(<span class="fu">aes</span>(<span class="at">fill =</span> stfundname), <span class="at">color =</span> <span class="st">"black"</span>,<span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">fill =</span> <span class="cn">FALSE</span>) <span class="sc">+</span>   </span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_stratum</span>(<span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a><span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"YlOrRd"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span>      </span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">stat =</span> <span class="st">"stratum"</span>, <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">after_stat</span>(stratum)), <span class="at">size =</span> <span class="dv">2</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Expenditures using Federal Relief Funds. "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="FedMoneyReceived_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Highlights legislation, fund money went into, and its purpose.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sankey, </span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> value, <span class="at">axis3 =</span> Notes, <span class="at">axis2 =</span> stfundname, <span class="at">axis1=</span>Expenditures, <span class="at">label =</span> <span class="st">"stratum"</span>)) <span class="sc">+</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_flow</span>(<span class="fu">aes</span>(<span class="at">fill =</span> stfundname), <span class="at">color =</span> <span class="st">"black"</span>,<span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a> <span class="co"># guides(fill = FALSE) +   </span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_stratum</span>(<span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a> <span class="co"># geom_text(stat = "stratum", label.strata = TRUE) + </span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a><span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"YlOrRd"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">"Funds that received money from each law and their purpose."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="FedMoneyReceived_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sankey, </span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> value, <span class="at">axis3 =</span> Notes, <span class="at">axis2 =</span> stfundname, <span class="at">axis1=</span>Expenditures, <span class="at">label =</span> <span class="st">"stratum"</span>)) <span class="sc">+</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_flow</span>(<span class="fu">aes</span>(<span class="at">fill =</span> stfundname), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_stratum</span>(<span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"YlOrRd"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_text</span>(<span class="at">stat =</span> <span class="st">"stratum"</span>, <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">after_stat</span>(stratum)), <span class="at">size =</span> <span class="dv">2</span>,<span class="at">reverse=</span><span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="FedMoneyReceived_files/figure-html/unnamed-chunk-18-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>sankeydata <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"sankeyattempt2022.csv"</span>)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>sankey <span class="ot">&lt;-</span> sankeydata <span class="sc">%&gt;%</span> <span class="fu">select</span>(Federal, StateFunds, StFund, Expenditures, stfundname, value, Notes) <span class="sc">%&gt;%</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(StFund <span class="sc">==</span> <span class="st">"Total"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">StateFunds =</span> <span class="fu">factor</span>(StateFunds, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Total_received_fy20"</span>, <span class="st">"Total_received_fy21"</span>, <span class="st">"Total_received_fy22"</span>)),</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">stfundname =</span> <span class="fu">as.factor</span>(stfundname),</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">Federal =</span> <span class="fu">as.factor</span>(Federal),</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>         </span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>                   <span class="at">Expenditures =</span> <span class="fu">factor</span>(Expenditures, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Community Development"</span>, <span class="st">"Public Health"</span>, <span class="st">"Medicaid"</span>, <span class="st">"K-12"</span>, <span class="st">"Federal Other"</span>, <span class="st">"Transit"</span>)),</span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>         <span class="at">Notes =</span> <span class="fu">factor</span>(Notes, <span class="at">levels =</span> <span class="fu">c</span>(  <span class="st">"CARES"</span>, <span class="st">"Other *"</span>,<span class="st">"CRRSA"</span>, <span class="st">"ARPA"</span>)))</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(sankey, </span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">y =</span> value, </span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>           <span class="at">axis3 =</span> Notes, <span class="at">axis2 =</span> StateFunds, <span class="at">axis1=</span>Expenditures, <span class="at">label =</span> <span class="st">"stratum"</span>)) <span class="sc">+</span></span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_flow</span>(<span class="fu">aes</span>(<span class="at">fill =</span> stfundname), <span class="at">color =</span> <span class="st">"black"</span>, <span class="at">reverse=</span><span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_stratum</span>(<span class="at">reverse=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a><span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a>   <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">"YlOrRd"</span>, <span class="at">direction =</span> <span class="sc">-</span><span class="dv">1</span>)<span class="sc">+</span></span>
<span id="cb32-21"><a href="#cb32-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb32-22"><a href="#cb32-22" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_text</span>(<span class="at">stat =</span> <span class="st">"stratum"</span>, <span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">after_stat</span>(stratum)), <span class="at">size =</span> <span class="dv">2</span>, <span class="at">reverse =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="FedMoneyReceived_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<blockquote class="blockquote">
<p>Note: CARES funds were originally received and spent in Disaster Response &amp; Recovery Fund. In FY22, unspent aid was transferred to the State CURE and then transferred again to state agencies for COVID-related expenditures. Remaining CARES funds were transferred to State CURE fund for FY22. $337 million was also transfered from the Illinois Department of Revenue into the Illinois Housing Development Authority (IHDA). (<a href="https://budget.illinois.gov/content/dam/soi/en/web/budget/documents/lboc/lboc-report-june-2021-final.pdf">LBOC June 2021 Report</a>)</p>
</blockquote>
<blockquote class="blockquote">
<p>Revenue from Local Cure is the Local Government Transfers.</p>
</blockquote>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>sankey <span class="sc">%&gt;%</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">sum=</span><span class="fu">sum</span>(value))</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>sankey <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(StateFunds) <span class="sc">%&gt;%</span> </span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">sum=</span><span class="fu">sum</span>(value))</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>sankey <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Expenditures) <span class="sc">%&gt;%</span> </span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">sum=</span><span class="fu">sum</span>(value))</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>sankey <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(Notes) <span class="sc">%&gt;%</span> </span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">sum=</span><span class="fu">sum</span>(value))</span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>sankey <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(StateFunds, Expenditures) <span class="sc">%&gt;%</span> </span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">sum=</span><span class="fu">sum</span>(value))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["sum"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"32248642517"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["StateFunds"],"name":[1],"type":["fct"],"align":["left"]},{"label":["sum"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"Total_received_fy20","2":"3518945000"},{"1":"Total_received_fy21","2":"12632709463"},{"1":"Total_received_fy22","2":"16096988054"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Expenditures"],"name":[1],"type":["fct"],"align":["left"]},{"label":["sum"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"Community Development","2":"3518945000"},{"1":"Public Health","2":"6638000000"},{"1":"Medicaid","2":"4469242245"},{"1":"K-12","2":"7875455272"},{"1":"Federal Other","2":"8127000000"},{"1":"Transit","2":"1620000000"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Notes"],"name":[1],"type":["fct"],"align":["left"]},{"label":["sum"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"CARES","2":"8888412218"},{"1":"Other *","2":"7263242245"},{"1":"CRRSA","2":"2915000000"},{"1":"ARPA","2":"13181988054"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div><div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["StateFunds"],"name":[1],"type":["fct"],"align":["left"]},{"label":["Expenditures"],"name":[2],"type":["fct"],"align":["left"]},{"label":["sum"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"Total_received_fy20","2":"Community Development","3":"3518945000"},{"1":"Total_received_fy21","2":"Public Health","3":"5974000000"},{"1":"Total_received_fy21","2":"Medicaid","3":"4469242245"},{"1":"Total_received_fy21","2":"K-12","3":"569467218"},{"1":"Total_received_fy21","2":"Transit","3":"1620000000"},{"1":"Total_received_fy22","2":"Public Health","3":"664000000"},{"1":"Total_received_fy22","2":"K-12","3":"7305988054"},{"1":"Total_received_fy22","2":"Federal Other","3":"8127000000"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p><a href="https://cheatography.com/seleven/cheat-sheets/ggalluvial/">ggsankey info and example</a></p>
<p><img src="images/image-2109120559.png" class="img-fluid" width="346"></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./FiscalGap.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Yearly Fiscal Gap</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Everything.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">All Code together</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>